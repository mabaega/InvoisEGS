[HttpPost]
public async Task<IActionResult> SubmitInvoice([FromBody] InvoiceData invoice)
{
    var request = new SubmitDocumentRequest(invoice);
    var submission = await _apiHelper.SubmitDocumentAsync(request);
    
    // Simpan submissionId ke database/session untuk tracking
    await _submissionService.SaveSubmissionAsync(submission.SubmissionUID);
    
    return Ok(new { SubmissionId = submission.SubmissionUID });
}

[HttpGet("status/{submissionId}")]
public async Task<IActionResult> GetStatus(string submissionId, CancellationToken cancellationToken)
{
    var status = await _apiHelper.WaitForCompletionAsync(
        submissionId,
        progress => _hubContext.Clients.All.SendAsync("UpdateProgress", progress),
        cancellationToken
    );
    
    return Ok(status);
}